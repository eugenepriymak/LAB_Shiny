# R Shiny + Django
## Задача
В общей постановке необходимо реализовать Django-сервер, который взаимодействует с расположенной на сервере базой данных, и Shiny-приложение,
отправляющее этому серверу запросы. Для примера же взята база данных, хранящая вагоны, отправленные в них грузы и их количество, день отправки (для простоты
взяты не полноценные даты, а просто целые числа: день № 1, день № 2 и т.д.). Shiny-приложение достаёт по выбранным грузам и промежутку дней строит графики суммарных
количеств перевозки в зависимости от дня.


## Запуск Django-сервера:

1. Либо клонируем, либо скачиваем данный репозиторий.

2. В интерпретаторе командной строки переходим в папку с проектом, затем в папку DjangoServer: туда, где помещён файл manage.py. Проверяем, что путь до базового интерпретатора
Python помещён в переменную PATH (иначе не сможем обратиться к нему, находясь в произвольной папке).

3. Создаём виртуальное окружение:
```commandline
python -m venv virtual_environment_name
```

4. Активируем виртуальное окружение:
```commandline
virtual_environment_name/Scripts/activate
```

5. Обновляем pip:
```commandline
python -m pip install --upgrade pip
```

6. Загружаем нестандартные библиотеки:
```commandline
pip install django
```

7. Создаём таблицы в БД:
```commandline
python manage.py makemigrations
python manage.py migrate
```

8. Генерируем .json-файл с данными для БД:
```commandline
python generate_data.py
```
В результате в текущем каталоге создастся файл generated_data.json.

9. Заполняем БД данными из generated_data.json:
```commandline
python manage.py loadddata genereated_data.json
```

10. Запускаем сервер:
```commandline
python manage.py runserver
```
Теперь на Вашем компьютере запущен локальный сервер. Чтобы остановить его работу, достаточно нажать Ctrl+C.


## Запуск Shiny-приложения

Необходимо просто запустить файл main.R (например, передать его посредством интерпретатора командной строки интерпретатору R, либо же в RStudio).
Все необходимые нестандартные пакеты устанавливаются автоматически; если есть виртуальное окружение renv, пакеты установятся в него, в противном
случае пакеты установятся в глобальную область.

* Shiny-приложение предлагает выбрать грузы (доступен множественный выбор) и граничные дни для отображения графика (целые числа).
* При нажатии кнопки Draw на основе введённых данных отобразится график. В текущей версии, если выбрать несколько грузов, то графики будут иметь одинаковый цвет, а границы координатных осей
будут браться по первому грузу выделения; поэтому если графики остальных выбранных грузов выходят за эти границы по оси Amounts, выходящие за границы части пользователь не сможет увидеть.
В следующей версии эта оплошность будет исправлена.

## Команда проекта
* Приймак Евгений, email: prijmak.ed@edu.spbstu.ru
* Костина Надежда, email: kostina.nh@edu.spbstu.ru
